<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport" />

    <title>Chin-An Wu - Bad UI</title>

    <link rel="stylesheet" type="text/css" href="bad-ui.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
</head>
<body onload="getTime()">
    <div class="ExampleContainer">
        <div class="Example">
            <div class="ExampleTitle">Example 1</div>
            <button class="ExampleButton" id="button">Hold to set number</button>

            <div>Your number is: </div>
            <div class="ExampleOneNumber">
                <div id="timer0" style="color: black">0</div>
                <div id="timer1" style="color: black">0</div>
                <div id="timer2" style="color: black">0</div>
                <div> - </div>
                <div id="timer3" style="color: black">0</div>
                <div id="timer4" style="color: black">0</div>
                <div id="timer5" style="color: black">0</div>
                <div> - </div>
                <div id="timer6" style="color: black">0</div>
                <div id="timer7" style="color: black">0</div>
                <div id="timer8" style="color: black">0</div>
                <div id="timer9" style="color: black">0</div>
            </div>
        </div>
    </div>

    <div class="ExampleContainer">
        <div class="Example">
            <div class="ExampleTitle">Example 2</div>
            <button class="ExampleButton" id="button-2">Hold to set number</button>

            <div>Your number is: </div>
            <div id="timer-2" style="color: black">0000000000</div>
        </div>
    </div>

    <div class="ExampleContainer">
        <div class="Example">
            <div class="ExampleTitle">Example 3</div>
            <div class="ExampleThreeTime">
                <div id="hour" style="text-decoration: underline"></div>
                <div>:</div>
                <div id="minute" style="text-decoration: none"></div>
                <div>:</div>
                <div id="second" style="text-decoration: none"></div>
                <div>&nbsp;</div>
                <div id="period" style="text-decoration: none"></div>
            </div>
            <div class="ExampleThreeBtns ExampleButton">
                <button id="backbtn" onclick="handleBackClick()">Back</button>
                <button id="nextbtn" onclick="handleNextClick()">Next</button>
                <button id="selectbtn" onclick="handleSelectClick()">Select</button>
            </div>

            <div>Your number is: </div>
            <div id="clocknumber"></div>
        </div>
    </div>

<script>
	let timer = 0,
        timer2 = 0,
        timerNum = 0,
		timerInterval,
		timerInterval2,
        active = false,
        currClock = 0,
        clockOpts = ['hour', 'minute', 'second'],
		button = document.getElementById("button"),
		button2 = document.getElementById("button-2");

	// Example 1
	button.addEventListener("mousedown", function() {
        active = true;
		timerInterval = setInterval(function(){
			timer = (timer + 1) % 10;
			document.getElementById("timer" + timerNum).style.color= "black";
			document.getElementById("timer" + timerNum).innerText = timer;
		}, 1000);
	});

	button.addEventListener("mouseup", function() {
		clearInterval(timerInterval);
		timer = 0;
		document.getElementById("timer" + timerNum).style.color= "black";
		active = false;
		timerNum = (timerNum + 1) % 10;
	});

	timerInterval = setInterval(function(){
		if (!active) {
			let current = document.getElementById("timer" + timerNum).style.color;
			if (current === "black") {
				document.getElementById("timer" + timerNum).style.color= "white";
			} else {
				document.getElementById("timer" + timerNum).style.color= "black";
			}
        }
	}, 500);

    // Example 2
	button2.addEventListener("mousedown", function() {
		timerInterval2 = setInterval(function(){
			timer2 += 1;
			document.getElementById("timer-2").innerText = pad(timer2, 10);
		}, 1000);
	});

	button2.addEventListener("mouseup", function() {
		clearInterval(timerInterval2);
	});

	// Example 3

	// Functions
	function pad(n, width, z) {
		z = z || '0';
		n = n + '';
		return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
	}

	function handleNextClick() {
		document.getElementById(clockOpts[currClock]).style.textDecoration = "none";
		currClock = (currClock + 1) % 3;
		document.getElementById(clockOpts[currClock]).style.textDecoration = "underline";
	}

	function handleBackClick() {
		document.getElementById(clockOpts[currClock]).style.textDecoration = "none";
		currClock = (currClock === 0) ? 2 : ((currClock - 1) % 3);
		document.getElementById(clockOpts[currClock]).style.textDecoration = "underline";
	}

	function handleSelectClick() {
		let time = document.getElementById(clockOpts[currClock]).innerText;
		document.getElementById('clocknumber').innerText = document.getElementById('clocknumber').innerText + time;
	}

	function getTime() {
		let time = new Date();
		document.getElementById("hour").innerText = (time.getHours() % 12).toString();
		document.getElementById("period").innerText = (time.getHours() > 12) ? "PM" : "AM";

		document.getElementById("minute").innerText = time.getMinutes().toString();

		document.getElementById("second").innerText =
            time.getSeconds() < 10
                ? "0" + time.getSeconds().toString()
                : time.getSeconds().toString();

		setTimeout(getTime, 1000);
	}
</script>
</body>
</html>
